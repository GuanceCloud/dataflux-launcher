{% extends "base.html" %}

{% block content %}

<div class="row form-body">
    <form class="form-horizontal">
      <div class="panel panel-default">
        <div class="panel-heading">安装信息</div>
        <div class="panel-body setup-info">

          <h4>MySQL 信息：</h4>
          <div class="well well-mysql">
            <div class="form-group">
              <label for="iptDBHost" class="col-sm-2 control-label">MySQL Host:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.mysql.host }}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptDBPort" class="col-sm-2 control-label">端口:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.mysql.port }}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptDBUserName" class="col-sm-2 control-label">管理员账号:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.mysql.user }}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptDBUserPwd" class="col-sm-2 control-label">管理员密码:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.mysql.password }}</p>
              </div>
            </div>            
          </div>

          <h4>Redis 信息：</h4>
          <div class="well well-redis">
            <div class="form-group">
              <label for="iptHost" class="col-sm-2 control-label">Redis Host:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.redis.host }}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptRedisPort" class="col-sm-2 control-label">端口:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.redis.port }}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptRedisPassword" class="col-sm-2 control-label">密码:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.redis.password }}</p>
              </div>
            </div>
          </div>

          <h4>InfluxDB 信息：</h4>
          {% for idb in data.influxdb %}
          <div class="well well-influxdb">
            <div class="form-group">
              <label for="iptInfluxDBHost{{ loop.index }}" class="col-sm-2 control-label">InfluxDB Host:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{idb.host}}&nbsp;
                  {% if idb.ssl %}
                  <input type="checkbox" disabled="disabled" checked="checked"> SSL
                  {% endif %}
                </p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptInfluxDBPort{{ loop.index }}" class="col-sm-2 control-label">端口:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{idb.port}}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptInfluxDBUserName{{ loop.index }}" class="col-sm-2 control-label">管理员账号:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{idb.username}}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptInfluxDBPassword{{ loop.index }}" class="col-sm-2 control-label">管理员密码:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{idb.password}}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptInfluxDBName{{ loop.index }}" class="col-sm-2 control-label">数据库名:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{idb.dbName}}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptInfluxDBName{{ loop.index }}" class="col-sm-2 control-label">Kapacitor 地址:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{idb.kapacitorHost}}</p>
              </div>
            </div>
          </div>
          {% endfor %}

          <h4>系统主域名：</h4>
          <div class="well well-manager">
            <div class="form-group">
              <label for="iptUserName" class="col-sm-2 control-label">域名:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ data.other.domain }}</p>
              </div>
            </div>
          </div>

          <h4>后台管理员：</h4>
          <div class="well well-manager">
            <div class="form-group">
              <label for="iptUserName" class="col-sm-2 control-label">管理员账号:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ (data.other.manager or {}).username }}</p>
              </div>
            </div>
            <div class="form-group">
              <label for="iptUserEmail" class="col-sm-2 control-label">管理员邮箱:</label>
              <div class="col-sm-10">
                <p class="form-control-static">{{ (data.other.manager or {}).email }}</p>
              </div>
            </div>
          </div>

        </div>

        <div class="form-group">
          <label class="col-sm-2 control-label">&nbsp;</label>
          <div class="col-sm-5">
              <a class="btn btn-default" href="/other">
                <i class="glyphicon glyphicon-arrow-left"></i> 上一步
              </a>
              <button id="btnDoSetup" class="btn btn-danger" onclick="setup.do_setup()">
                <i class="glyphicon glyphicon-send"></i> 初始化数据，并生成配置!
              </button>
          </div>
        </div>

      </div>
    </form>
</div>

{% endblock %}
